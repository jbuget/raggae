# =========================
# Runtime
# =========================
PERSISTENCE_BACKEND=postgres
STORAGE_BACKEND=minio
PROCESSING_MODE=sync

# =========================
# API / Security
# =========================
SECRET_KEY=your-secret-key-here
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000

# =========================
# Upload limits
# =========================
MAX_UPLOAD_SIZE=104857600
MAX_UPLOAD_FILES_PER_REQUEST=20
MAX_DOCUMENTS_PER_PROJECT=100

# =========================
# Database
# =========================
DATABASE_URL=postgresql+asyncpg://user:password@localhost/raggae

# =========================
# Provider selection
# =========================
LLM_BACKEND=ollama
EMBEDDING_BACKEND=openai
TEXT_CHUNKER_BACKEND=native
RERANKER_BACKEND=none

# =========================
# OpenAI
# =========================
OPENAI_API_KEY=sk-...
OPENAI_LLM_MODEL=gpt-4o-mini
EMBEDDING_MODEL=text-embedding-3-small

# =========================
# Gemini
# =========================
GEMINI_API_KEY=
GEMINI_LLM_MODEL=gemini-1.5-flash
GEMINI_EMBEDDING_MODEL=gemini-embedding-001
ANTHROPIC_API_KEY=
CREDENTIALS_ENCRYPTION_KEY=MDEyMzQ1Njc4OWFiY2RlZjAxMjM0NTY3ODlhYmNkZWY=
USER_PROVIDER_KEYS_ENABLED=true

# =========================
# Ollama
# =========================
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_LLM_MODEL=llama3.1:8b
OLLAMA_EMBEDDING_MODEL=nomic-embed-text
OLLAMA_KEEP_ALIVE=10m
LLM_REQUEST_TIMEOUT_SECONDS=120

# =========================
# Embeddings / Chunking
# =========================
EMBEDDING_DIMENSION=1536
CHUNK_SIZE=1000
CHUNK_OVERLAP=100

# =========================
# Retrieval / Reranking
# =========================
RETRIEVAL_DEFAULT_STRATEGY=hybrid
RETRIEVAL_MIN_SCORE=0.3
RETRIEVAL_DEFAULT_CHUNK_LIMIT=8
RETRIEVAL_CONTEXT_WINDOW_SIZE=1
RETRIEVAL_VECTOR_WEIGHT=0.6
RETRIEVAL_FULLTEXT_WEIGHT=0.4
RETRIEVAL_CANDIDATE_MULTIPLIER=5
RETRIEVAL_FULLTEXT_LANGUAGE=french
RERANKER_MODEL=cross-encoder/ms-marco-MiniLM-L-6-v2
RERANKER_CANDIDATE_MULTIPLIER=3

# =========================
# Chat history
# =========================
CHAT_HISTORY_WINDOW_SIZE=8
CHAT_HISTORY_MAX_CHARS=4000

# =========================
# S3-compatible storage (MinIO local)
# =========================
S3_ENDPOINT_URL=http://localhost:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_BUCKET_NAME=raggae-documents
S3_REGION=us-east-1
S3_SECURE=false
